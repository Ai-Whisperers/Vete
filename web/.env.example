# =============================================================================
# Vete Platform - Environment Variables Reference
# =============================================================================
# Copy this file to .env.local and fill in your values
# Required variables are marked with [REQUIRED]
# Optional variables have sensible defaults or are feature-specific
# =============================================================================

# =============================================================================
# SUPABASE CONFIGURATION [REQUIRED]
# =============================================================================
# Get these from your Supabase project dashboard: Settings > API

# Supabase project URL (e.g., https://xxxxx.supabase.co)
NEXT_PUBLIC_SUPABASE_URL=

# Supabase anonymous key - safe for client-side (RLS protected)
NEXT_PUBLIC_SUPABASE_ANON_KEY=

# Supabase service role key - SERVER ONLY, bypasses RLS
# Never expose this in client-side code
SUPABASE_SERVICE_ROLE_KEY=

# Direct PostgreSQL connection string
# Format: postgresql://user:password@host:port/database
DATABASE_URL=

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Base URL of the application
# Development: http://localhost:3000
# Production: https://your-domain.com
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Alternative base URL for metadata/SEO
NEXT_PUBLIC_BASE_URL=https://vetic.vercel.app

# Node environment: development | production | test
NODE_ENV=development

# Timezone for date/time operations
TZ=America/Asuncion

# Enable debug mode (verbose logging)
DEBUG=false

# Log level: error | warn | info | debug
LOG_LEVEL=info

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
# Choose ONE provider: resend | sendgrid | smtp | ses

# Email provider to use
EMAIL_PROVIDER=resend

# From address for outgoing emails
EMAIL_FROM=noreply@veterinaria.com

# From name for outgoing emails
EMAIL_FROM_NAME=Vete Platform

# --- Resend (Recommended) ---
RESEND_API_KEY=

# --- SendGrid ---
SENDGRID_API_KEY=

# --- SMTP Configuration ---
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_SECURE=false

# --- AWS SES ---
# Uses AWS credentials below

# =============================================================================
# AWS CONFIGURATION
# =============================================================================
# Used for SES email and/or S3 storage

AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
S3_BUCKET=

# =============================================================================
# WHATSAPP INTEGRATION (Meta Business API)
# =============================================================================
# Enable with ENABLE_WHATSAPP=true

WHATSAPP_API_URL=https://graph.facebook.com/v17.0
WHATSAPP_PHONE_NUMBER_ID=
WHATSAPP_ACCESS_TOKEN=
WHATSAPP_VERIFY_TOKEN=

# =============================================================================
# SMS / TWILIO CONFIGURATION
# =============================================================================

TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=
# WhatsApp sandbox number (for development)
TWILIO_WHATSAPP_NUMBER=+14155238886

# =============================================================================
# STORAGE CONFIGURATION
# =============================================================================
# Provider: supabase | s3 | cloudinary

STORAGE_PROVIDER=supabase

# Local upload directory (for development)
UPLOAD_DIR=./uploads

# Max file size in bytes (default: 5MB)
MAX_FILE_SIZE=5242880

# --- Cloudinary ---
CLOUDINARY_CLOUD_NAME=
CLOUDINARY_API_KEY=
CLOUDINARY_API_SECRET=

# =============================================================================
# STRIPE PAYMENTS
# =============================================================================

# Publishable key (safe for client-side)
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=

# Secret key (server-side only)
STRIPE_SECRET_KEY=

# Webhook signing secret (for webhook verification)
STRIPE_WEBHOOK_SECRET=

# =============================================================================
# GOOGLE SERVICES
# =============================================================================
# Used for Google Sheets integration (inventory sync)

GOOGLE_SERVICE_ACCOUNT_EMAIL=
GOOGLE_PRIVATE_KEY=

# =============================================================================
# CACHING / REDIS
# =============================================================================
# Provider: memory | redis | upstash

CACHE_PROVIDER=memory

# Cache TTL in seconds
CACHE_TTL=3600

# --- Standard Redis ---
REDIS_URL=
REDIS_MAX_RETRIES=3

# --- Upstash (Serverless Redis) ---
UPSTASH_REDIS_REST_URL=
UPSTASH_REDIS_REST_TOKEN=

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================

# Sentry error tracking
NEXT_PUBLIC_SENTRY_DSN=

# Datadog APM
DD_API_KEY=
DD_APP_KEY=

# Enable monitoring features
MONITORING_ENABLED=false

# =============================================================================
# RATE LIMITING
# =============================================================================

RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_SKIP_SUCCESSFUL=false
RATE_LIMIT_SKIP_FAILED=false

# =============================================================================
# BACKGROUND JOBS (Inngest)
# =============================================================================

INNGEST_EVENT_KEY=
INNGEST_SIGNING_KEY=

# =============================================================================
# CRON JOB SECURITY
# =============================================================================
# Secret token to authenticate cron job requests from GitHub Actions
#
# SETUP INSTRUCTIONS:
# 1. Generate a secure secret: openssl rand -base64 32
# 2. Add the value here for local development
# 3. Add the SAME value to GitHub Secrets:
#    Repository Settings > Secrets and variables > Actions > New repository secret
#    Name: CRON_SECRET
#    Value: (paste generated secret)
# 4. Add to Vercel environment variables (for endpoint validation)
#
# USAGE:
# GitHub Actions workflow (.github/workflows/cron.yml) sends this token
# in the Authorization header when calling cron endpoints.
# The endpoints verify the token using timing-safe comparison.

CRON_SECRET=

# =============================================================================
# AUTHENTICATION
# =============================================================================

# JWT secret for custom token generation
JWT_SECRET=

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# Enable/disable major platform features

# E-commerce store module
ENABLE_STORE=true

# WhatsApp messaging integration
ENABLE_WHATSAPP=false

# Hospitalization/kennel management
ENABLE_HOSPITALIZATION=true

# Laboratory orders and results
ENABLE_LAB=true

# Insurance claims processing
ENABLE_INSURANCE=false

# =============================================================================
# DATABASE POOL (Advanced)
# =============================================================================
# Fine-tune database connection pooling

DB_POOL_MAX=10
DB_POOL_MIN=0
DB_IDLE_TIMEOUT=20
DB_CONNECT_TIMEOUT=10
DB_MAX_CONNECTIONS=20
DB_SSL=true
DB_TIMEOUT=30000

# =============================================================================
# READ REPLICAS (Optional - for scaling)
# =============================================================================

DATABASE_URL_REPLICA=
DATABASE_URL_REPLICA_US=
DATABASE_URL_REPLICA_EU=
DATABASE_URL_REPLICA_AP=

# =============================================================================
# VERCEL-SPECIFIC (Auto-populated in Vercel deployments)
# =============================================================================

# VERCEL_URL=
# VERCEL_ENV=
# VERCEL_OIDC_TOKEN=

# =============================================================================
# ADVERTISING (Optional)
# =============================================================================

# Google AdSense publisher ID (ca-pub-XXXXXXXX)
NEXT_PUBLIC_ADSENSE_CLIENT_ID=

# Enable ads display
NEXT_PUBLIC_ENABLE_ADS=false
